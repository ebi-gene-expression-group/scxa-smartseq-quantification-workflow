process {
    executor='slurm'
    queue="$SCXA_HPC_QUEUE"
    clusterOptions="$SCXA_HPC_OPTIONS"

    withName: 'download_fastqs' {
        //clusterOptions = "-g /scxa_ena_download"
        // No equivalent of -g option in LSF for Slurm. We simulate it adding a tag
        clusterOptions = "--job-name=scxa_ena_download"
    }
}

executor {
    queue = 'production'
    queueSize=1000
    //perJobMemLimit=true
    exitReadTimeout='100000 sec'
    pollInterval = '5sec'
    time = '5d'
    memory = '8 GB'
}

conda {
    cacheDir = "$SCXA_WORKFLOW_ROOT/envs"
    createTimeout = "30 min"
    useMamba = true
}

params {
    downloadMethod = 'http'
    maxConcurrentDownloads = 40
}
